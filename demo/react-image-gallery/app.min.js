var ImageGallery=React.createClass({mixins:[React.addons.PureRenderMixin],displayName:"ImageGallery",propTypes:{items:React.PropTypes.array.isRequired,showThumbnails:React.PropTypes.bool,showBullets:React.PropTypes.bool},getDefaultProps:function(){return{showThumbnails:!0,showBullets:!1}},getInitialState:function(){return{currentIndex:0,thumbnailTranslateX:0,containerWidth:0}},componentDidUpdate:function(e,t){if(t.containerWidth!=this.state.containerWidth){var a=this.state.currentIndex>0?1:0;this.setState({thumbnailTranslateX:-this._getScrollX(a)*this.state.currentIndex})}if(t.currentIndex!=this.state.currentIndex){var a=Math.abs(t.currentIndex-this.state.currentIndex),n=this._getScrollX(a);n>0&&(t.currentIndex<this.state.currentIndex?this.setState({thumbnailTranslateX:this.state.thumbnailTranslateX-n}):t.currentIndex>this.state.currentIndex&&this.setState({thumbnailTranslateX:this.state.thumbnailTranslateX+n}))}},componentDidMount:function(){this.setState({containerWidth:this.getDOMNode().offsetWidth}),window.addEventListener("resize",this._handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this._handleResize)},slideToIndex:function(e){var t=this.props.items.length-1;this.setState(0>e?{currentIndex:t}:e>t?{currentIndex:0}:{currentIndex:e})},_handleResize:function(){this.setState({containerWidth:this.getDOMNode().offsetWidth})},_getScrollX:function(e){if(this.refs.thumbnails){var t=this.refs.thumbnails.getDOMNode();if(t.scrollWidth<=this.state.containerWidth)return 0;var a=t.children.length,n=t.scrollWidth-this.state.containerWidth,s=n/(a-1);return e*s}},render:function(){var e=this.state.currentIndex,t={MozTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",WebkitTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",OTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",msTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",transform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)"};return React.createElement("section",{className:"ImageGallery"},React.createElement("div",{className:"ImageGallery_content"},React.createElement("a",{className:"ImageGallery_content_left_nav",onClick:this.slideToIndex.bind(this,e-1)}),React.createElement("a",{className:"ImageGallery_content_right_nav",onClick:this.slideToIndex.bind(this,e+1)}),React.createElement("div",{className:"ImageGallery_content_slides"},this.props.items.map(function(t,a){var n="";switch(a){case e-1:n="left";break;case e:n="center";break;case e+1:n="right"}return React.createElement("div",{key:a,className:"ImageGallery_content_slides_slide "+n},React.createElement("img",{src:t.original}))},this)),this.props.showBullets&&React.createElement("div",{className:"ImageGallery_bullet_container"},React.createElement("ul",{className:"ImageGallery_bullet_container_bullets"},this.props.items.map(function(t,a){return React.createElement("li",{key:a,className:"ImageGallery_bullet_container_bullets_bullet "+(e===a?"active":""),onClick:this.slideToIndex.bind(this,a)})},this)))),this.props.showThumbnails&&React.createElement("div",{className:"ImageGallery_thumbnail_container"},React.createElement("div",{ref:"thumbnails",className:"ImageGallery_thumbnail_container_thumbnails",style:t},this.props.items.map(function(t,a){return React.createElement("a",{key:a,className:"ImageGallery_thumbnail_container_thumbnails_thumbnail "+(e===a?"active":""),onClick:this.slideToIndex.bind(this,a)},React.createElement("img",{src:t.thumbnail}))},this))))}});