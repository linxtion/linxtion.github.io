var ImageGallery=React.createClass({mixins:[React.addons.PureRenderMixin],displayName:"ImageGallery",propTypes:{items:React.PropTypes.array.isRequired,showThumbnails:React.PropTypes.bool,showBullets:React.PropTypes.bool,autoPlay:React.PropTypes.bool,slideInterval:React.PropTypes.number,onSlide:React.PropTypes.func},getDefaultProps:function(){return{showThumbnails:!0,showBullets:!1,autoPlay:!1,slideInterval:4e3}},getInitialState:function(){return{currentIndex:0,thumbnailTranslateX:0,containerWidth:0}},componentDidUpdate:function(e,t){if(t.containerWidth!=this.state.containerWidth||e.showThumbnails!=this.props.showThumbnails){var a=this.state.currentIndex>0?1:0;this.setState({thumbnailTranslateX:-this._getScrollX(a)*this.state.currentIndex})}if(t.currentIndex!=this.state.currentIndex)if(this.props.onSlide&&this.props.onSlide(this.state.currentIndex),0===this.state.currentIndex)this.setState({thumbnailTranslateX:0});else{var a=Math.abs(t.currentIndex-this.state.currentIndex),n=this._getScrollX(a);n>0&&(t.currentIndex<this.state.currentIndex?this.setState({thumbnailTranslateX:this.state.thumbnailTranslateX-n}):t.currentIndex>this.state.currentIndex&&this.setState({thumbnailTranslateX:this.state.thumbnailTranslateX+n}))}},componentDidMount:function(){this.setState({containerWidth:this.getDOMNode().offsetWidth}),this.props.autoPlay&&this.play(),window.addEventListener("resize",this._handleResize)},componentWillUnmount:function(){window.removeEventListener("resize",this._handleResize)},slideToIndex:function(e,t){var a=this.props.items.length-1;this.setState(0>e?{currentIndex:a}:e>a?{currentIndex:0}:{currentIndex:e}),t&&(this._intervalId&&(this.pause(),this.play()),t.preventDefault())},play:function(){this._intervalId||(this._intervalId=window.setInterval(function(){this.state.hovering||this.slideToIndex(this.state.currentIndex+1)}.bind(this),this.props.slideInterval))},pause:function(){this._intervalId&&(window.clearInterval(this._intervalId),this._intervalId=null)},_handleResize:function(){this.setState({containerWidth:this.getDOMNode().offsetWidth})},_getScrollX:function(e){if(this.refs.thumbnails){var t=this.refs.thumbnails.getDOMNode();if(t.scrollWidth<=this.state.containerWidth)return 0;var a=t.children.length,n=t.scrollWidth-this.state.containerWidth,i=n/(a-1);return e*i}},_handleMouseOver:function(){this.setState({hovering:!0})},_handleMouseLeave:function(){this.setState({hovering:!1})},_getAlignment:function(e){var t=this.state.currentIndex,a="";switch(e){case t-1:a="left";break;case t:a="center";break;case t+1:a="right"}return 0===e&&t===this.props.items.length-1?a="right":e===this.props.items.length-1&&0===t&&(a="left"),a},render:function(){var e=this.state.currentIndex,t={MozTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",WebkitTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",OTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",msTransform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)",transform:"translate3d("+this.state.thumbnailTranslateX+"px, 0, 0)"};return React.createElement("section",{className:"ImageGallery"},React.createElement("div",{onMouseOver:this._handleMouseOver,onMouseLeave:this._handleMouseLeave,className:"ImageGallery_content"},React.createElement("a",{className:"ImageGallery_content_left_nav",onTouchStart:this.slideToIndex.bind(this,e-1),onClick:this.slideToIndex.bind(this,e-1)}),React.createElement("a",{className:"ImageGallery_content_right_nav",onTouchStart:this.slideToIndex.bind(this,e+1),onClick:this.slideToIndex.bind(this,e+1)}),React.createElement("div",{className:"ImageGallery_content_slides"},this.props.items.map(function(e,t){var a=this._getAlignment(t);return React.createElement("div",{key:t,className:"ImageGallery_content_slides_slide "+a},React.createElement("img",{src:e.original}))},this)),this.props.showBullets&&React.createElement("div",{className:"ImageGallery_bullet_container"},React.createElement("ul",{className:"ImageGallery_bullet_container_bullets"},this.props.items.map(function(t,a){return React.createElement("li",{key:a,className:"ImageGallery_bullet_container_bullets_bullet "+(e===a?"active":""),onTouchStart:this.slideToIndex.bind(this,a),onClick:this.slideToIndex.bind(this,a)})},this)))),this.props.showThumbnails&&React.createElement("div",{className:"ImageGallery_thumbnail_container"},React.createElement("div",{ref:"thumbnails",className:"ImageGallery_thumbnail_container_thumbnails",style:t},this.props.items.map(function(t,a){return React.createElement("a",{key:a,className:"ImageGallery_thumbnail_container_thumbnails_thumbnail "+(e===a?"active":""),onTouchStart:this.slideToIndex.bind(this,a),onClick:this.slideToIndex.bind(this,a)},React.createElement("img",{src:t.thumbnail}))},this))))}}),App=React.createClass({displayName:"App",mixins:[React.addons.LinkedStateMixin],getInitialState:function(){return{isPaused:!1,isPlaying:!0,slideInterval:4e3,showThumbnails:!0,showBullets:!0,currentIndex:null}},componentDidUpdate:function(e,t){this.state.slideInterval!=t.slideInterval&&(this._pauseSlider(),this._playSlider())},_pauseSlider:function(){this.refs.imageGallery&&(this.refs.imageGallery.pause(),this.setState({isPaused:!0,isPlaying:!1}))},_playSlider:function(){this.refs.imageGallery&&(this.refs.imageGallery.play(),this.setState({isPaused:!1,isPlaying:!0}))},_handleSlide:function(e){this.setState({currentIndex:e})},render:function(){var e=[{original:"http://lorempixel.com/1000/600/nature/1/",thumbnail:"http://lorempixel.com/250/150/nature/1/"},{original:"http://lorempixel.com/1000/600/nature/2/",thumbnail:"http://lorempixel.com/250/150/nature/2/"},{original:"http://lorempixel.com/1000/600/nature/3/",thumbnail:"http://lorempixel.com/250/150/nature/3/"},{original:"http://lorempixel.com/1000/600/nature/4/",thumbnail:"http://lorempixel.com/250/150/nature/4/"},{original:"http://lorempixel.com/1000/600/nature/5/",thumbnail:"http://lorempixel.com/250/150/nature/5/"},{original:"http://lorempixel.com/1000/600/nature/6/",thumbnail:"http://lorempixel.com/250/150/nature/6/"},{original:"http://lorempixel.com/1000/600/nature/7/",thumbnail:"http://lorempixel.com/250/150/nature/7/"}];return React.createElement("section",{className:"App"},React.createElement(ImageGallery,{ref:"imageGallery",items:e,showBullets:this.state.showBullets,showThumbnails:this.state.showThumbnails,slideInterval:parseInt(this.state.slideInterval),autoPlay:!0,onSlide:this._handleSlide}),React.createElement("div",{className:"App_sandbox"},React.createElement("h2",null," Playground "),React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{className:"App_button "+(this.state.isPlaying?"active":""),onClick:this._playSlider},"Play")),React.createElement("li",null,React.createElement("a",{className:"App_button "+(this.state.isPaused?"active":""),onClick:this._pauseSlider},"Pause")),React.createElement("li",null,React.createElement("div",null,"Slide interval"),React.createElement("input",{type:"text",placeholder:"SlideInterval",valueLink:this.linkState("slideInterval")})),React.createElement("li",null,React.createElement("input",{type:"checkbox",checkedLink:this.linkState("showBullets")},"show bullets?")),React.createElement("li",null,React.createElement("input",{type:"checkbox",checkedLink:this.linkState("showThumbnails")},"show Thumbnails?")),null!==this.state.currentIndex&&React.createElement("li",null,"Event: slid to index ",this.state.currentIndex))))}});!function(){React.render(React.createElement(App,null),document.getElementById("container"))}();